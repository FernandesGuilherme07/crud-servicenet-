{"ast":null,"code":"var _jsxFileName = \"/home/gui/projetos/crud/frontend/src/pages/createClients/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = process.env.REACT_APP_API;\nexport const Users = () => {\n  _s();\n\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [contact, setContact] = useState(\"\");\n  const [cep, setCep] = useState(\"\");\n  const [nation, setNation] = useState(\"\");\n  const [state, setState] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [district, setDistrict] = useState(\"\");\n  const [street, setStreet] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const [editing, setEditing] = useState(false);\n  const [id, setId] = useState(\"\");\n  const nameInput = useRef(null);\n  let [users, setUsers] = useState([]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (!editing) {\n      const res = await fetch(`${API}/users`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          name,\n          email,\n          password,\n          contact,\n          cep,\n          nation,\n          state,\n          city,\n          district,\n          street,\n          number\n        })\n      });\n      await res.json();\n    } else {\n      const res = await fetch(`${API}/users/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          name,\n          email,\n          password,\n          contact,\n          cep,\n          nation,\n          state,\n          city,\n          district,\n          street,\n          number\n        })\n      });\n      const data = await res.json();\n      console.log(data);\n      setEditing(false);\n      setId(\"\");\n    }\n\n    await getUsers();\n    setName(\"\");\n    setEmail(\"\");\n    setPassword(\"\");\n    setContact(\"\");\n    setCep(\"\");\n    setNation(\"\");\n    setState(\"\");\n    setCity(\"\");\n    setDistrict(\"\");\n    setStreet(\"\");\n    setNumber(\"\");\n    nameInput.current.focus();\n  };\n\n  const getUsers = async () => {\n    const res = await fetch(`${API}/users`);\n    const data = await res.json();\n    setUsers(data);\n  };\n\n  const deleteUser = async id => {\n    const userResponse = window.confirm(\"Are you sure you want to delete it?\");\n\n    if (userResponse) {\n      const res = await fetch(`${API}/users/${id}`, {\n        method: \"DELETE\"\n      });\n      const data = await res.json();\n      console.log(data);\n      await getUsers();\n    }\n  };\n\n  const editUser = async id => {\n    const res = await fetch(`${API}/users/${id}`);\n    const data = await res.json();\n    setEditing(true);\n    setId(id); // Reset\n\n    setName(data.name);\n    setEmail(data.email);\n    setPassword(data.password);\n    setContact(data.contact);\n    setCep(data.cep);\n    setNation(data.nation);\n    setState(data.state);\n    setCity(data.city);\n    setStreet(data.street);\n    setNumber(data.number);\n    nameInput.current.focus();\n  };\n\n  useEffect(() => {\n    getUsers();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-4\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"card card-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => setName(e.target.value),\n            value: name,\n            className: \"form-control\",\n            placeholder: \"Nome\",\n            ref: nameInput,\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            onChange: e => setEmail(e.target.value),\n            value: email,\n            className: \"form-control\",\n            placeholder: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            onChange: e => setPassword(e.target.value),\n            value: password,\n            className: \"form-control\",\n            placeholder: \"senha\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            onChange: e => setContact(e.target.value),\n            value: contact,\n            className: \"form-control\",\n            placeholder: \"contato\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => setCep(e.target.value),\n            value: cep,\n            className: \"form-control\",\n            placeholder: \" cep\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => setNation(e.target.value),\n            value: nation,\n            className: \"form-control\",\n            placeholder: \"Pa\\xEDs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => setState(e.target.value),\n            value: state,\n            className: \"form-control\",\n            placeholder: \"UF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => setCity(e.target.value),\n            value: city,\n            className: \"form-control\",\n            placeholder: \"cidade\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => setDistrict(e.target.value),\n            value: district,\n            className: \"form-control\",\n            placeholder: \"Bairro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => setCep(e.target.value),\n            value: street,\n            className: \"form-control\",\n            placeholder: \"logradouro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => setNumber(e.target.value),\n            value: number,\n            className: \"form-control\",\n            placeholder: \"n\\xFAmero\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary btn-block\",\n          children: editing ? \"Update\" : \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-6\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table table-striped\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Operations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: user.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-secondary btn-sm btn-block\",\n                onClick: e => editUser(user._id),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger btn-sm btn-block\",\n                onClick: e => deleteUser(user._id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 17\n            }, this)]\n          }, user._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Users, \"crTGxhN+NC8qdy/YqIBa8sm3yzo=\");\n\n_c = Users;\n\nvar _c;\n\n$RefreshReg$(_c, \"Users\");","map":{"version":3,"sources":["/home/gui/projetos/crud/frontend/src/pages/createClients/index.jsx"],"names":["React","useState","useEffect","useRef","API","process","env","REACT_APP_API","Users","name","setName","email","setEmail","password","setPassword","contact","setContact","cep","setCep","nation","setNation","state","setState","city","setCity","district","setDistrict","street","setStreet","number","setNumber","editing","setEditing","id","setId","nameInput","users","setUsers","handleSubmit","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","json","data","console","log","getUsers","current","focus","deleteUser","userResponse","window","confirm","editUser","target","value","map","user","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\n\nconst API = process.env.REACT_APP_API;\n\nexport const Users = () => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [contact, setContact] = useState(\"\");\n  const [cep, setCep] = useState(\"\");\n  const [nation, setNation] = useState(\"\");\n  const [state, setState] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [district, setDistrict] = useState(\"\");\n  const [street, setStreet] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n\n  const [editing, setEditing] = useState(false);\n  const [id, setId] = useState(\"\");\n\n  const nameInput = useRef(null);\n\n  let [users, setUsers] = useState([]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!editing) {\n      const res = await fetch(`${API}/users`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          name,\n          email,\n          password,\n          contact,\n          cep,\n          nation,\n          state,\n          city,\n          district,\n          street,\n          number,\n        }),\n      });\n      await res.json();\n    } else {\n      const res = await fetch(`${API}/users/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          name,\n          email,\n          password,\n          contact,\n          cep,\n          nation,\n          state,\n          city,\n          district,\n          street,\n          number,\n        }),\n      });\n      const data = await res.json();\n      console.log(data);\n      setEditing(false);\n      setId(\"\");\n    }\n    await getUsers();\n\n    setName(\"\");\n    setEmail(\"\");\n    setPassword(\"\");\n    setContact(\"\");\n    setCep(\"\");\n    setNation(\"\");\n    setState(\"\");\n    setCity(\"\");\n    setDistrict(\"\");\n    setStreet(\"\");\n    setNumber(\"\");\n    nameInput.current.focus();\n  };\n\n  const getUsers = async () => {\n    const res = await fetch(`${API}/users`);\n    const data = await res.json();\n    setUsers(data);\n  };\n\n  const deleteUser = async (id) => {\n    const userResponse = window.confirm(\"Are you sure you want to delete it?\");\n    if (userResponse) {\n      const res = await fetch(`${API}/users/${id}`, {\n        method: \"DELETE\",\n      });\n      const data = await res.json();\n      console.log(data);\n      await getUsers();\n    }\n  };\n\n  const editUser = async (id) => {\n    const res = await fetch(`${API}/users/${id}`);\n    const data = await res.json();\n\n    setEditing(true);\n    setId(id);\n\n    // Reset\n    setName(data.name);\n    setEmail(data.email);\n    setPassword(data.password);\n    setContact(data.contact);\n    setCep(data.cep);\n    setNation(data.nation);\n    setState(data.state);\n    setCity(data.city);\n    setStreet(data.street);\n    setNumber(data.number);\n    nameInput.current.focus();\n  };\n\n  useEffect(() => {\n    getUsers();\n  }, []);\n\n  return (\n    <div className=\"center\">\n      <div className=\"col-md-4\">\n        <form onSubmit={handleSubmit} className=\"card card-body\">\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              onChange={(e) => setName(e.target.value)}\n              value={name}\n              className=\"form-control\"\n              placeholder=\"Nome\"\n              ref={nameInput}\n              autoFocus\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <input\n              type=\"email\"\n              onChange={(e) => setEmail(e.target.value)}\n              value={email}\n              className=\"form-control\"\n              placeholder=\"Email\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <input\n              type=\"password\"\n              onChange={(e) => setPassword(e.target.value)}\n              value={password}\n              className=\"form-control\"\n              placeholder=\"senha\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <input\n              type=\"number\"\n              onChange={(e) => setContact(e.target.value)}\n              value={contact}\n              className=\"form-control\"\n              placeholder=\"contato\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              onChange={(e) => setCep(e.target.value)}\n              value={cep}\n              className=\"form-control\"\n              placeholder=\" cep\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              onChange={(e) => setNation(e.target.value)}\n              value={nation}\n              className=\"form-control\"\n              placeholder=\"País\"\n            />\n\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              onChange={(e) => setState(e.target.value)}\n              value={state}\n              className=\"form-control\"\n              placeholder=\"UF\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              onChange={(e) => setCity(e.target.value)}\n              value={city}\n              className=\"form-control\"\n              placeholder=\"cidade\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              onChange={(e) => setDistrict(e.target.value)}\n              value={district}\n              className=\"form-control\"\n              placeholder=\"Bairro\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              onChange={(e) => setCep(e.target.value)}\n              value={street}\n              className=\"form-control\"\n              placeholder=\"logradouro\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              onChange={(e) => setNumber(e.target.value)}\n              value={number}\n              className=\"form-control\"\n              placeholder=\"número\"\n            />\n          </div>\n\n\n          <button className=\"btn btn-primary btn-block\">\n            {editing ? \"Update\" : \"Create\"}\n          </button>\n        </form>\n      </div>\n      <div className=\"col-md-6\">\n        <table className=\"table table-striped\">\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Email</th>\n              <th>Password</th>\n              <th>Operations</th>\n            </tr>\n          </thead>\n          <tbody>\n            {users.map((user) => (\n              <tr key={user._id}>\n                <td>{user.name}</td>\n                <td>{user.email}</td>\n                <td>{user.password}</td>\n                <td>\n                  <button\n                    className=\"btn btn-secondary btn-sm btn-block\"\n                    onClick={(e) => editUser(user._id)}\n                  >\n                    Edit\n                  </button>\n                  <button\n                    className=\"btn btn-danger btn-sm btn-block\"\n                    onClick={(e) => deleteUser(user._id)}\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n};"]},"metadata":{},"sourceType":"module"}